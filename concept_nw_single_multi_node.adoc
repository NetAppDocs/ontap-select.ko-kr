---
sidebar: sidebar 
permalink: concept_nw_single_multi_node.html 
keywords: ontap select, single node network configuration, multinode network configuration 
summary: ONTAP Select는 단일 노드 및 다중 노드 네트워크 구성을 모두 지원합니다. 
---
= 단일 노드 및 다중 노드 네트워크 구성
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
ONTAP Select는 단일 노드 및 다중 노드 네트워크 구성을 모두 지원합니다.



== 단일 노드 네트워크 구성

단일 노드 ONTAP Select 구성에서는 클러스터, HA 또는 미러 트래픽이 없으므로 ONTAP 내부 네트워크가 필요하지 않습니다.

ONTAP Select 제품의 다중 노드 버전과 달리 각 ONTAP Select VM에는 ONTAP 네트워크 포트 e0a, e0b 및 e0c에 제공되는 3개의 가상 네트워크 어댑터가 포함되어 있습니다.

이러한 포트는 관리, 데이터 및 인터클러스터 LIF 서비스를 제공하는 데 사용됩니다.

.KVM
ONTAP Select를 단일 노드 클러스터로 구축할 수 있습니다. 하이퍼바이저 호스트에는 외부 네트워크에 대한 액세스를 제공하는 가상 스위치가 포함되어 있습니다.

.ESXi
다음 그림에서는 ESX 하이퍼바이저의 ONTAP Select 클러스터 노드 하나를 보여 주는 이러한 포트와 기본 물리적 어댑터 간의 관계를 보여 줍니다.

* 단일 노드 ONTAP Select 클러스터의 네트워크 구성 *

image:DDN_03.jpg["단일 노드 ONTAP Select 클러스터의 네트워크 구성"]


NOTE: 단일 노드 클러스터에는 두 개의 어댑터가 충분하지만 NIC 팀 구성은 여전히 필요합니다.



=== LIF 할당

이 문서의 다중 노드 LIF 할당 섹션에서 설명하는 대로, IPspace는 ONTAP Select에서 클러스터 네트워크 트래픽을 데이터 및 관리 트래픽과 별도로 유지하는 데 사용됩니다. 이 플랫폼의 단일 노드 버전에는 클러스터 네트워크가 포함되어 있지 않습니다. 따라서 클러스터 IPspace에 포트가 존재하지 않습니다.


NOTE: ONTAP Select 클러스터 설정 중에 클러스터 및 노드 관리 LIF가 자동으로 생성됩니다. 나머지 LIF는 구축 후 생성할 수 있습니다.



=== 관리 및 데이터 LIF(e0a, e0b 및 e0c)

ONTAP 포트 e0a, e0b 및 e0c는 다음과 같은 유형의 트래픽이 포함된 LIF의 후보 포트로 위임됩니다.

* SAN/NAS 프로토콜 트래픽(CIFS, NFS 및 iSCSI)
* 클러스터, 노드 및 SVM 관리 트래픽
* 인터클러스터 트래픽(SnapMirror 및 SnapVault)




== 다중 노드 네트워크 구성

다중 노드 ONTAP Select 네트워크 구성은 두 개의 네트워크로 구성됩니다.

클러스터 및 내부 복제 서비스를 제공하는 내부 네트워크와 데이터 액세스 및 관리 서비스를 제공하는 외부 네트워크를 담당합니다. 이러한 두 네트워크 내에서 흐르는 트래픽의 엔드 투 엔드 격리는 클러스터 복원성에 적합한 환경을 구축하는 데 매우 중요합니다.

이러한 네트워크는 다음 그림에 나와 있으며, 이 그림에서는 VMware vSphere 플랫폼에서 실행되는 4노드 ONTAP Select 클러스터를 보여 줍니다. 6노드 및 8노드 클러스터는 유사한 네트워크 레이아웃을 갖습니다.


NOTE: 각 ONTAP Select 인스턴스는 별도의 물리적 서버에 상주합니다. 내부 및 외부 트래픽은 각 가상 네트워크 인터페이스에 할당되고 클러스터 노드가 동일한 물리적 스위치 인프라를 공유할 수 있는 별도의 네트워크 포트 그룹을 사용하여 격리됩니다.

* ONTAP Select 다중 노드 클러스터 네트워크 구성 개요 *

image:DDN_01.jpg["ONTAP Select 다중 노드 클러스터 네트워크 구성 개요"]

각 ONTAP Select VM에는 ONTAP에 7개의 네트워크 포트 e0a~e0g의 세트로 제공되는 가상 네트워크 어댑터 7개가 포함되어 있습니다. ONTAP는 이러한 어댑터를 물리적 NIC로 취급하지만 사실상 가상 NIC로 가상 네트워크 계층을 통해 물리적 인터페이스 집합에 매핑합니다. 따라서 각 호스팅 서버에는 물리적 네트워크 포트가 6개 필요하지 않습니다.


NOTE: ONTAP Select VM에 가상 네트워크 어댑터를 추가하는 것은 지원되지 않습니다.

이러한 포트는 다음 서비스를 제공하도록 사전 구성되어 있습니다.

* e0a, e0b 및 e0g. 관리 및 데이터 LIF
* e0c, e0d. 클러스터 네트워크 LIF
* e0e RSM
* e0f HA 인터커넥트


포트 e0a, e0b 및 e0g는 외부 네트워크에 상주합니다. e0c - e0f 포트는 여러 가지 다른 기능을 수행하지만 통틀어 내부 Select 네트워크를 구성합니다. 네트워크 설계 결정을 내릴 때 이러한 포트는 단일 레이어-2 네트워크에 배치해야 합니다. 서로 다른 네트워크에서 이러한 가상 어댑터를 분리할 필요가 없습니다.

이러한 포트와 기본 물리적 어댑터 간의 관계는 다음 그림에 나와 있으며, 이 그림에서는 ESX 하이퍼바이저의 ONTAP Select 클러스터 노드 하나를 보여 줍니다.

* 다중 노드 ONTAP Select 클러스터의 일부인 단일 노드의 네트워크 구성 *

image:DDN_02.jpg["다중 노드 ONTAP Select 클러스터의 일부인 단일 노드의 네트워크 구성"]

서로 다른 물리적 NIC에서 내부 및 외부 트래픽을 분리함으로써 네트워크 리소스에 대한 액세스가 부족하기 때문에 지연 시간이 시스템에 유입되지 않도록 합니다. 또한 NIC 팀 구성을 통한 집계를 통해 단일 네트워크 어댑터 오류가 발생해도 ONTAP Select 클러스터 노드가 해당 네트워크에 액세스하는 것을 방지할 수 있습니다.

외부 네트워크와 내부 네트워크 포트 그룹 모두 대칭적으로 4개의 NIC 어댑터를 모두 포함합니다. 외부 네트워크 포트 그룹의 활성 포트는 내부 네트워크의 대기 포트입니다. 반대로, 내부 네트워크 포트 그룹의 활성 포트는 외부 네트워크 포트 그룹의 대기 포트입니다.



=== LIF 할당

IPspace가 출시됨에 따라 ONTAP 포트 역할이 더 이상 사용되지 않았습니다. FAS 어레이와 마찬가지로 ONTAP Select 클러스터는 기본 IPspace와 클러스터 IPspace를 모두 포함합니다. 클러스터 IPspace에 네트워크 포트 e0a, e0b 및 e0g 를 기본 IPspace 및 포트 e0c 및 e0d 에 배치하면 해당 포트가 속하지 않은 호스팅 LIF에서 본질적으로 벗어남이 되었다는 것을 알 수 있습니다. ONTAP Select 클러스터 내의 나머지 포트는 내부 서비스를 제공하는 인터페이스의 자동 할당을 통해 사용됩니다. RSM 및 HA 상호 연결 인터페이스와 마찬가지로 ONTAP 셸을 통해 노출되지 않습니다.


NOTE: 모든 LIF가 ONTAP 명령 셸을 통해 표시되는 것은 아닙니다. HA 상호 연결 및 RSM 인터페이스는 ONTAP에서 숨겨지며 해당 서비스를 제공하기 위해 내부적으로 사용됩니다.

네트워크 포트 및 LIF는 다음 섹션에서 자세히 설명합니다.



=== 관리 및 데이터 LIF(e0a, e0b 및 e0g)

ONTAP 포트 e0a, e0b 및 e0g는 다음 유형의 트래픽이 포함된 LIF의 후보 포트로 위임됩니다.

* SAN/NAS 프로토콜 트래픽(CIFS, NFS 및 iSCSI)
* 클러스터, 노드 및 SVM 관리 트래픽
* 인터클러스터 트래픽(SnapMirror 및 SnapVault)



NOTE: ONTAP Select 클러스터 설정 중에 클러스터 및 노드 관리 LIF가 자동으로 생성됩니다. 나머지 LIF는 구축 후 생성할 수 있습니다.



=== 클러스터 네트워크 LIF(e0c, e0d)

ONTAP 포트 e0c 및 e0d는 클러스터 인터페이스의 홈 포트로 위임됩니다. 각 ONTAP Select 클러스터 노드 내에서는 ONTAP 설정 중에 링크 로컬 IP 주소(169.254.x.x)를 사용하여 두 개의 클러스터 인터페이스가 자동으로 생성됩니다.


NOTE: 이러한 인터페이스에는 정적 IP 주소를 할당할 수 없으며 추가 클러스터 인터페이스를 생성할 수 없습니다.

클러스터 네트워크 트래픽은 지연 시간이 짧고 라우팅되지 않은 레이어 2 네트워크를 통해 전달되어야 합니다. 클러스터 처리량 및 지연 시간 요구사항 때문에 ONTAP Select 클러스터는 물리적으로 가까운 곳에 위치해야 합니다(예: 멀티팩, 단일 데이터 센터). WAN을 통해 또는 지리적으로 중요한 서로 다른 거리에 있는 HA 노드를 분리하여 4노드, 6노드 또는 8노드 확장 클러스터 구성을 구축하는 것은 지원되지 않습니다. 중재자가 있는 확장 2노드 구성이 지원됩니다.

자세한 내용은 섹션을 참조하십시오 link:reference_plan_best_practices.html#two-node-stretched-ha-metrocluster-sds-best-practices["2노드 확장 HA(MetroCluster SDS) 모범 사례"].


NOTE: 클러스터 네트워크 트래픽의 최대 처리량을 확인하기 위해 이 네트워크 포트는 점보 프레임(7500 ~ 9000 MTU)을 사용하도록 구성됩니다. 올바른 클러스터 작동을 위해 ONTAP Select 클러스터 노드에 내부 네트워크 서비스를 제공하는 모든 업스트림 가상 및 물리적 스위치에서 점보 프레임이 활성화되어 있는지 확인합니다.



=== RAID SyncMirror 트래픽(e0e)

HA 파트너 노드 전체에서 블록의 동기식 복제는 네트워크 포트 e0e에 상주하는 내부 네트워크 인터페이스를 사용하여 수행됩니다. 이 기능은 클러스터 설정 중에 ONTAP에서 구성한 네트워크 인터페이스를 사용하여 자동으로 수행되므로 관리자가 구성할 필요가 없습니다.


NOTE: 포트 e0e는 ONTAP에서 내부 복제 트래픽을 위해 예약했습니다. 따라서 ONTAP CLI 또는 System Manager에서는 포트나 호스팅된 LIF가 표시되지 않습니다. 이 인터페이스는 자동으로 생성된 링크 로컬 IP 주소를 사용하도록 구성되어 있으며 대체 IP 주소의 재할당이 지원되지 않습니다. 이 네트워크 포트에는 점보 프레임(7500 - 9000 MTU)을 사용해야 합니다.



=== HA 인터커넥트(e0f)

NetApp FAS 어레이는 특수 하드웨어를 사용하여 ONTAP 클러스터의 HA 쌍 간에 정보를 전달합니다. 그러나 소프트웨어 정의 환경에서는 InfiniBand 또는 iWARP 디바이스와 같은 이러한 유형의 장비를 사용할 수 없으므로 대체 솔루션이 필요합니다. 여러 가지 가능성을 고려했지만 상호 연결 전송에 배치된 ONTAP 요구 사항에서는 이 기능이 소프트웨어에서 에뮬레이트되어야 했습니다. 결과적으로, ONTAP Select 클러스터 내에서 HA 인터커넥트 기능(일반적으로 하드웨어에서 제공)은 이더넷을 전송 메커니즘으로 사용하여 OS로 설계되었습니다.

각 ONTAP Select 노드는 HA 인터커넥트 포트 e0f로 구성됩니다. 이 포트는 두 가지 주요 기능을 담당하는 HA 인터커넥트 네트워크 인터페이스를 호스팅합니다.

* HA 쌍 간에 NVRAM의 콘텐츠 미러링
* HA Pair 간의 HA 상태 정보 및 네트워크 하트비트 메시지 송수신


HA 인터커넥트 트래픽은 이더넷 패킷 내에 RDMA(Remote Direct Memory Access) 프레임을 계층화함으로써 단일 네트워크 인터페이스를 사용하여 이 네트워크 포트를 통해 흐릅니다.


NOTE: RSM 포트(e0e)와 비슷한 방법으로 ONTAP CLI 또는 System Manager에서 물리적 포트 또는 호스팅된 네트워크 인터페이스를 볼 수 없습니다. 따라서 이 인터페이스의 IP 주소를 수정할 수 없으며 포트의 상태를 변경할 수 없습니다. 이 네트워크 포트에는 점보 프레임(7500 - 9000 MTU)을 사용해야 합니다.
